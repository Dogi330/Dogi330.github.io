<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>DRAGERON DIABLOC - Official Music</title>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jsmediatags/3.9.7/jsmediatags.min.js"></script>
    <link rel="icon" type="image/png" href="./img/favicon-16x16.png">
    <style>
        /* Основные стили */
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            transition: background-color 0.3s, color 0.3s;
        }
        
        body {
            background-color: #121212;
            color: #fff;
            overflow-x: hidden;
        }
        
        body.light-theme {
            background-color: #f5f5f5;
            color: #333;
        }
        
        /* Кнопка смены темы */
        .theme-switcher {
            position: fixed;
            top: 20px;
            right: 20px;
            z-index: 1000;
            background: rgba(0, 0, 0, 0.7);
            border: none;
            color: white;
            width: 40px;
            height: 40px;
            border-radius: 50%;
            cursor: pointer;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 1.2rem;
        }
        
        .light-theme .theme-switcher {
            background: rgba(255, 255, 255, 0.7);
            color: #333;
        }
        
        /* Главный экран */
        .hero {
            height: 100vh;
            background: linear-gradient(rgba(0, 0, 0, 0.7), rgba(0, 0, 0, 0.7)), 
                        url('image/01.jpg');
            background-size: cover;
            background-position: center;
            display: flex;
            flex-direction: column;
            justify-content: center;
            align-items: center;
            text-align: center;
            padding: 0 20px;
        }
        
        .light-theme .hero {
            background: linear-gradient(rgba(255, 255, 255, 0.7), rgba(255, 255, 255, 0.7)), 
                        url('image/01.jpg');
        }
        
        .hero-content {
            max-width: 800px;
        }
        
        .hero h1 {
            font-size: 3.5rem;
            margin-bottom: 20px;
            text-shadow: 2px 2px 5px rgba(0, 0, 0, 0.5);
        }
        
        .light-theme .hero h1 {
            text-shadow: 2px 2px 5px rgba(255, 255, 255, 0.5);
        }
        
        .hero p {
            font-size: 1.2rem;
            margin-bottom: 30px;
            text-shadow: 1px 1px 3px rgba(0, 0, 0, 0.5);
        }
        
        .light-theme .hero p {
            text-shadow: 1px 1px 3px rgba(255, 255, 255, 0.5);
        }
        
        .artist-image {
            width: 200px;
            height: 200px;
            border-radius: 50%;
            object-fit: cover;
            border: 5px solid #fff;
            margin-bottom: 30px;
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.3);
        }
        
        .light-theme .artist-image {
            border: 5px solid #333;
        }
        
        .btn {
            display: inline-block;
            background: #1DB954;
            color: white;
            padding: 12px 30px;
            border-radius: 30px;
            text-decoration: none;
            font-weight: bold;
            transition: all 0.3s ease;
        }
        
        .btn:hover {
            background: #1ed760;
            transform: translateY(-3px);
            box-shadow: 0 10px 20px rgba(0, 0, 0, 0.2);
        }
        
        /* Секция плейлистов */
        .playlists {
            padding: 80px 20px;
            background-color: #181818;
        }
        
        .light-theme .playlists {
            background-color: #e0e0e0;
        }
        
        .section-title {
            text-align: center;
            margin-bottom: 50px;
            font-size: 2.5rem;
        }
        
        .playlist-grid {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(250px, 1fr));
            gap: 30px;
            max-width: 1200px;
            margin: 0 auto;
        }
        
        .playlist-card {
            background: #282828;
            border-radius: 10px;
            overflow: hidden;
            transition: all 0.3s ease;
            cursor: pointer;
        }
        
        .light-theme .playlist-card {
            background: #ffffff;
            box-shadow: 0 4px 8px rgba(0, 0, 0, 0.1);
        }
        
        .playlist-card:hover {
            transform: translateY(-10px);
        }
        
        .playlist-cover {
            width: 100%;
            height: 250px;
            object-fit: cover;
        }
        
        .playlist-info {
            padding: 20px;
        }
        
        .playlist-title {
            font-size: 1.2rem;
            margin-bottom: 10px;
        }
        
        .light-theme .playlist-title {
            color: #333;
        }
        
        .playlist-description {
            color: #b3b3b3;
            font-size: 0.9rem;
        }
        
        .light-theme .playlist-description {
            color: #666;
        }
        
        /* Стили для списка треков */
        .track-list {
            display: none;
            max-height: 300px;
            overflow-y: auto;
            background: #333;
            padding: 10px;
        }
        
        .light-theme .track-list {
            background: #f0f0f0;
        }
        
        .track-item {
            padding: 10px;
            border-bottom: 1px solid #444;
            cursor: pointer;
        }
        
        .light-theme .track-item {
            border-bottom: 1px solid #ddd;
        }
        
        .track-item:hover {
            background: #444;
        }
        
        .light-theme .track-item:hover {
            background: #e0e0e0;
        }
        
        /* Аудиоплеер */
        .player-container {
            position: fixed;
            bottom: 0;
            left: 0;
            width: 100%;
            background: #282828;
            padding: 20px;
            display: none;
            box-shadow: 0 -5px 15px rgba(0, 0, 0, 0.3);
            z-index: 1000;
            transition: all 0.3s ease;
        }
        
        .light-theme .player-container {
            background: #ffffff;
            box-shadow: 0 -5px 15px rgba(0, 0, 0, 0.1);
        }
        
        .player-content {
            max-width: 1200px;
            margin: 0 auto;
            display: flex;
            align-items: center;
            gap: 20px;
        }
        
        .player-cover {
            width: 80px;
            height: 80px;
            object-fit: cover;
            border-radius: 5px;
        }
        
        .player-info {
            flex-grow: 1;
        }
        
        .player-title {
            font-weight: bold;
            margin-bottom: 5px;
        }
        
        .light-theme .player-title {
            color: #333;
        }
        
        .player-artist {
            color: #b3b3b3;
            font-size: 0.9rem;
        }
        
        .light-theme .player-artist {
            color: #666;
        }
        
        audio {
            width: 100%;
            max-width: 600px;
        }
        
        .close-player {
            background: none;
            border: none;
            color: white;
            font-size: 1.5rem;
            cursor: pointer;
            margin-left: 20px;
        }
        
        .light-theme .close-player {
            color: #333;
        }
        
        /* Поиск */
        .search-container {
            max-width: 1200px;
            margin: 0 auto 30px;
            padding: 0 20px;
        }
        
        .search-input {
            width: 100%;
            padding: 12px 20px;
            border-radius: 30px;
            border: none;
            background: #333;
            color: white;
            font-size: 1rem;
        }
        
        .light-theme .search-input {
            background: #e0e0e0;
            color: #333;
        }
        
        /* Кнопки управления плеером */
        .player-controls {
            display: flex;
            align-items: center;
            gap: 10px;
        }
        
        .repeat-btn {
            background: none;
            border: none;
            color: #b3b3b3;
            cursor: pointer;
            font-size: 1rem;
        }
        
        .repeat-btn.active {
            color: #1DB954;
        }
        
        .light-theme .repeat-btn {
            color: #666;
        }
        
        .light-theme .repeat-btn.active {
            color: #1DB954;
        }
        
        /* Стили для полноэкранного режима */
        .player-container.fullscreen {
            position: fixed;
            top: 0;
            left: 0;
            width: 100vw;
            height: 100vh;
            z-index: 2000;
            background: #121212;
            display: flex;
            align-items: center;
            justify-content: center;
            padding: 0;
        }
        
        .player-container.fullscreen .player-content {
            flex-direction: column;
            align-items: center;
            max-width: 100%;
            text-align: center;
        }
        
        .player-container.fullscreen .player-cover {
            width: 300px;
            height: 300px;
            margin-bottom: 30px;
            border-radius: 10px;
        }
        
        .player-container.fullscreen audio {
            width: 80%;
            max-width: 800px;
        }
        
        .player-container.fullscreen .close-player {
            position: absolute;
            top: 20px;
            right: 20px;
        }
        
        .light-theme .player-container.fullscreen {
            background: #f5f5f5;
        }
        
        /* Визуализатор аудио */
        #visualizer {
            display: none;
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            z-index: -1;
        }
        
        /* Адаптивность */
        @media (max-width: 768px) {
            .hero h1 {
                font-size: 2.5rem;
            }
            
            .player-content {
                flex-direction: column;
                align-items: flex-start;
            }
            
            audio {
                width: 100%;
            }
            
            .player-container.fullscreen .player-cover {
                width: 200px;
                height: 200px;
            }
        }
    </style>
</head>
<body>
    <!-- Кнопка смены темы -->
    <button class="theme-switcher" id="themeSwitcher">🌓</button>
    
    <!-- Главный экран -->
    <section class="hero">
        <img src="image/0.jpg" alt="DRAGERON DIABLOC" class="artist-image">
        <div class="hero-content">
            <h1>DRAGERON DIABLOC</h1>
            <p>Погрузитесь в мир эпической симфонической музыки</p>
            <a href="#playlists" class="btn">Мои плейлисты</a>
        </div>
    </section>
    
    <!-- Секция плейлистов -->
    <section class="playlists" id="playlists">
        <h2 class="section-title">Альбомы</h2>
        
        <!-- Поиск -->
        <div class="search-container">
            <input type="text" class="search-input" id="searchInput" placeholder="Поиск треков и альбомов...">
        </div>
        
        <div class="playlist-grid">
            <!-- Альбом ELECTRONIC LEGENDS -->
            <div class="playlist-card" onclick="togglePlaylist(this)">
                <img src="image/1.jpeg" alt="ELECTRONIC LEGENDS" class="playlist-cover">
                <div class="playlist-info">
                    <h3 class="playlist-title">ELECTRONIC LEGENDS</h3>
                    <p class="playlist-description">20 трек · DRAGERON DIABLOC</p>
                </div>
                <div class="track-list">
                    <div class="track-item" onclick="event.stopPropagation(); showPlayer('Apocalypse Symphony', 'DRAGERON DIABLOC', 'music/Apocalypse Symphony.mp3', 'image/1.jpeg')">Apocalypse Symphony</div>
                    <div class="track-item" onclick="event.stopPropagation(); showPlayer('Apocalypse Symphony REMIX I', 'DRAGERON DIABLOC', 'music/Apocalypse Symphony REMIX I.mp3', 'image/2.jpeg')">Apocalypse Symphony REMIX I</div>
                    <div class="track-item" onclick="event.stopPropagation(); showPlayer('Apocalypse Symphony REMIX II', 'DRAGERON DIABLOC', 'music/Apocalypse Symphony REMIX II.mp3', 'image/3.jpeg')">Apocalypse Symphony REMIX II</div>
                    <div class="track-item" onclick="event.stopPropagation(); showPlayer('Apocalypse Symphony REMIX III', 'DRAGERON DIABLOC', 'music/Apocalypse Symphony REMIX III.mp3', 'image/4.jpeg')">Apocalypse Symphony REMIX III</div>
                    <div class="track-item" onclick="event.stopPropagation(); showPlayer('Chains of Steel', 'DRAGERON DIABLOC', 'music/Chains of Steel.mp3', 'image/5.jpeg')">Chains of Steel</div>
                    <div class="track-item" onclick="event.stopPropagation(); showPlayer('Chains of Steel REMIX', 'DRAGERON DIABLOC', 'music/Chains of Steel REMIX.mp3', 'image/6.jpeg')">Chains of Steel REMIX</div>
                    <div class="track-item" onclick="event.stopPropagation(); showPlayer('Clash of the Blades', 'DRAGERON DIABLOC', 'music/Clash of the Blades.mp3', 'image/7.jpeg')">Clash of the Blades</div>
                    <div class="track-item" onclick="event.stopPropagation(); showPlayer('Clash of the Blades REMIX', 'DRAGERON DIABLOC', 'music/Clash of the Blades REMIX.mp3', 'image/8.jpeg')">Clash of the Blades REMIX</div>
                    <div class="track-item" onclick="event.stopPropagation(); showPlayer('Dance of the Apocalypse', 'DRAGERON DIABLOC', 'music/Dance of the Apocalypse.mp3', 'image/9.jpeg')">Dance of the Apocalypse</div>
                    <div class="track-item" onclick="event.stopPropagation(); showPlayer('Dance of the Apocalypse REMIX', 'DRAGERON DIABLOC', 'music/Dance of the Apocalypse REMIX.mp3', 'image/10.jpeg')">Dance of the Apocalypse REMIX</div>
                    <div class="track-item" onclick="event.stopPropagation(); showPlayer('End of Days Symphony', 'DRAGERON DIABLOC', 'music/End of Days Symphony.mp3', 'image/11.jpeg')">End of Days Symphony</div>
                    <div class="track-item" onclick="event.stopPropagation(); showPlayer('End of Days Symphony REMIX', 'DRAGERON DIABLOC', 'music/End of Days Symphony REMIX.mp3', 'image/12.jpeg')">End of Days Symphony REMIX</div>
                    <div class="track-item" onclick="event.stopPropagation(); showPlayer('The Final Horizon', 'DRAGERON DIABLOC', 'music/The Final Horizon.mp3', 'image/13.jpeg')">The Final Horizon</div>
                    <div class="track-item" onclick="event.stopPropagation(); showPlayer('The Final Horizon REMIX', 'DRAGERON DIABLOC', 'music/The Final Horizon REMIX.mp3', 'image/14.jpeg')">The Final Horizon REMIX</div>
                    <div class="track-item" onclick="event.stopPropagation(); showPlayer('Eternal Wars', 'DRAGERON DIABLOC', 'music/Eternal Wars.mp3', 'image/15.jpeg')">Eternal Wars</div>
                    <div class="track-item" onclick="event.stopPropagation(); showPlayer('Eternal Wars REMIX I', 'DRAGERON DIABLOC', 'music/Eternal Wars REMIX I.mp3', 'image/16.jpeg')">Eternal Wars REMIX I</div>
                    <div class="track-item" onclick="event.stopPropagation(); showPlayer('Eternal Wars REMIX II', 'DRAGERON DIABLOC', 'music/Eternal Wars REMIX II.mp3', 'image/17.jpeg')">Eternal Wars REMIX II</div>
                    <div class="track-item" onclick="event.stopPropagation(); showPlayer('Eternal Wars REMIX III', 'DRAGERON DIABLOC', 'music/Eternal Wars REMIX III.mp3', 'image/18.jpeg')">Eternal Wars REMIX III</div>
                    <div class="track-item" onclick="event.stopPropagation(); showPlayer('Eternal Wars REMIX IV', 'DRAGERON DIABLOC', 'music/Eternal Wars REMIX IV.mp3', 'image/19.jpeg')">Eternal Wars REMIX IV</div>
                    <div class="track-item" onclick="event.stopPropagation(); showPlayer('Eternal Wars REMIX V', 'DRAGERON DIABLOC', 'music/Eternal Wars REMIX V.mp3', 'image/20.jpeg')">Eternal Wars REMIX V</div>
                </div>
            </div>
            
            <!-- Альбом THE GOLDEN YEARS -->
            <div class="playlist-card" onclick="togglePlaylist(this)">
                <img src="image/46.jpeg" alt="THE GOLDEN YEARS" class="playlist-cover">
                <div class="playlist-info">
                    <h3 class="playlist-title">THE GOLDEN YEARS</h3>
                    <p class="playlist-description">8 треков · DRAGERON DIABLOC</p>
                </div>
                <div class="track-list">
                    <div class="track-item" onclick="event.stopPropagation(); showPlayer('1¶ Detective', 'DRAGERON DIABLOC', 'music/1¶ Detective.mp3', 'image/43.jpeg')">1¶ Detective</div>
                    <div class="track-item" onclick="event.stopPropagation(); showPlayer('2¶ Damn-House-Good-Ending', 'DRAGERON DIABLOC', 'music/2¶-Damn-House-Good-Ending.mp3', 'image/44.jpeg')">2¶ Damn-House-Good-Ending</div>
                    <div class="track-item" onclick="event.stopPropagation(); showPlayer('3¶ PRISON-BREAK', 'DRAGERON DIABLOC', 'music/3¶-PRISON-BREAK.mp3', 'image/45.jpeg')">3¶ PRISON-BREAK</div>
                    <div class="track-item" onclick="event.stopPropagation(); showPlayer('4¶ INTRO-MIX', 'DRAGERON DIABLOC', 'music/4¶ INTRO-MIX.mp3', 'image/46.jpeg')">4¶ INTRO-MIX</div>
                    <div class="track-item" onclick="event.stopPropagation(); showPlayer('5¶ MIRAGE', 'DRAGERON DIABLOC', 'music/5¶ MIRAGE.mp3', 'image/47.jpeg')">5¶ MIRAGE</div>
                    <div class="track-item" onclick="event.stopPropagation(); showPlayer('6¶ Day', 'DRAGERON DIABLOC', 'music/6¶ Day.mp3', 'image/48.jpeg')">6¶ Day</div>
                    <div class="track-item" onclick="event.stopPropagation(); showPlayer('7¶ FATAL FATE', 'DRAGERON DIABLOC', 'music/7¶ FATAL FATE.mp3', 'image/49.jpeg')">7¶ FATAL FATE</div>
                    <div class="track-item" onclick="event.stopPropagation(); showPlayer('8¶ Wat Flow', 'DRAGERON DIABLOC', 'music/8¶ Wat Flow.mp3', 'image/50.jpeg')">8¶ Wat Flow</div>
                </div>
            </div>
            
            <!-- Альбом Fallen Worlds -->
            <div class="playlist-card" onclick="togglePlaylist(this)">
                <img src="image/23.jpeg" alt="Fallen Worlds" class="playlist-cover">
                <div class="playlist-info">
                    <h3 class="playlist-title">Fallen Worlds</h3>
                    <p class="playlist-description">10 треков · DRAGERON DIABLOC</p>
                </div>
                <div class="track-list">
                    <div class="track-item" onclick="event.stopPropagation(); showPlayer('Fallen Worlds', 'DRAGERON DIABLOC', 'music/Fallen Worlds.mp3', 'image/21.jpeg')">Fallen Worlds</div>
                    <div class="track-item" onclick="event.stopPropagation(); showPlayer('Fallen Worlds REMIX', 'DRAGERON DIABLOC', 'music/Fallen Worlds REMIX.mp3', 'image/22.jpeg')">Fallen Worlds REMIX</div>
                    <div class="track-item" onclick="event.stopPropagation(); showPlayer('LAW OF BLOOD REMIX', 'DRAGERON DIABLOC', 'music/LAW OF BLOOD REMIX.mp3', 'image/23.jpeg')">LAW OF BLOOD REMIX</div>
                    <div class="track-item" onclick="event.stopPropagation(); showPlayer('LAW OF BLOOD', 'DRAGERON DIABLOC', 'music/LAW OF BLOOD.mp3', 'image/24.jpeg')">LAW OF BLOOD</div>
                    <div class="track-item" onclick="event.stopPropagation(); showPlayer('Neon Temples REMIX', 'DRAGERON DIABLOC', 'music/Neon Temples REMIX.mp3', 'image/25.jpeg')">Neon Temples REMIX</div>
                    <div class="track-item" onclick="event.stopPropagation(); showPlayer('Neon Temples', 'DRAGERON DIABLOC', 'music/Neon Temples.mp3', 'image/26.jpeg')">Neon Temples</div>
                    <div class="track-item" onclick="event.stopPropagation(); showPlayer('The hired life REMIX', 'DRAGERON DIABLOC', 'music/The hired life REMIX.mp3', 'image/27.jpeg')">The hired life REMIX</div>
                    <div class="track-item" onclick="event.stopPropagation(); showPlayer('The hired life', 'DRAGERON DIABLOC', 'music/The hired life.mp3', 'image/28.jpeg')">The hired life</div>
                    <div class="track-item" onclick="event.stopPropagation(); showPlayer('The year was 2642 REMIX', 'DRAGERON DIABLOC', 'music/The year was 2642 REMIX.mp3', 'image/29.jpeg')">The year was 2642 REMIX</div>
                    <div class="track-item" onclick="event.stopPropagation(); showPlayer('The year was 2642', 'DRAGERON DIABLOC', 'music/The year was 2642.mp3', 'image/30.jpeg')">The year was 2642</div>
                </div>
            </div>
            
            <!-- Альбом GALACTIC HOUSE -->
            <div class="playlist-card" onclick="togglePlaylist(this)">
                <img src="image/34.jpeg" alt="GALACTIC HOUSE" class="playlist-cover">
                <div class="playlist-info">
                    <h3 class="playlist-title">GALACTIC HOUSE</h3>
                    <p class="playlist-description">4 трека · DRAGERON DIABLOC</p>
                </div>
                <div class="track-list">
                    <div class="track-item" onclick="event.stopPropagation(); showPlayer('GALACTIC HOUSE HARDCORE REMIX', 'DRAGERON DIABLOC', 'music/GALACTIC HOUSE HARDCORE REMIX.mp3', 'image/31.jpeg')">GALACTIC HOUSE HARDCORE REMIX</div>
                    <div class="track-item" onclick="event.stopPropagation(); showPlayer('GALACTIC HOUSE HARDCORE', 'DRAGERON DIABLOC', 'music/GALACTIC HOUSE HARDCORE.mp3', 'image/32.jpeg')">GALACTIC HOUSE HARDCORE</div>
                    <div class="track-item" onclick="event.stopPropagation(); showPlayer('GALACTIC HOUSE REMIX', 'DRAGERON DIABLOC', 'music/GALACTIC HOUSE REMIX.mp3', 'image/33.jpeg')">GALACTIC HOUSE REMIX</div>
                    <div class="track-item" onclick="event.stopPropagation(); showPlayer('GALACTIC HOUSE', 'DRAGERON DIABLOC', 'music/GALACTIC HOUSE.mp3', 'image/34.jpeg')">GALACTIC HOUSE</div>
                </div>
            </div>
            
            <!-- Альбом THE NEON VIRUS -->
            <div class="playlist-card" onclick="togglePlaylist(this)">
                <img src="image/58.jpeg" alt="THE NEON VIRUS" class="playlist-cover">
                <div class="playlist-info">
                    <h3 class="playlist-title">THE NEON VIRUS</h3>
                    <p class="playlist-description">8 треков · DRAGERON DIABLOC</p>
                </div>
                <div class="track-list">
                    <div class="track-item" onclick="event.stopPropagation(); showPlayer('THE NEON VIRUS REMIX S', 'DRAGERON DIABLOC', 'music/THE NEON VIRUS REMIX S.mp3', 'image/51.jpeg')">THE NEON VIRUS REMIX S</div>
                    <div class="track-item" onclick="event.stopPropagation(); showPlayer('THE NEON VIRUS REMIX A', 'DRAGERON DIABLOC', 'music/THE NEON VIRUS REMIX A.mp3', 'image/52.jpeg')">THE NEON VIRUS REMIX A</div>
                    <div class="track-item" onclick="event.stopPropagation(); showPlayer('THE NEON VIRUS REMIX M', 'DRAGERON DIABLOC', 'music/THE NEON VIRUS REMIX M.mp3', 'image/53.jpeg')">THE NEON VIRUS REMIX M</div>
                    <div class="track-item" onclick="event.stopPropagation(); showPlayer('THE NEON VIRUS REMIX U', 'DRAGERON DIABLOC', 'music/THE NEON VIRUS REMIX U.mp3', 'image/54.jpeg')">THE NEON VIRUS REMIX U</div>
                    <div class="track-item" onclick="event.stopPropagation(); showPlayer('THE NEON VIRUS REMIX R', 'DRAGERON DIABLOC', 'music/THE NEON VIRUS REMIX R.mp3', 'image/55.jpeg')">THE NEON VIRUS REMIX R</div>
                    <div class="track-item" onclick="event.stopPropagation(); showPlayer('THE NEON VIRUS REMIX .A.', 'DRAGERON DIABLOC', 'music/THE NEON VIRUS REMIX .A..mp3', 'image/56.jpeg')">THE NEON VIRUS REMIX .A.</div>
                    <div class="track-item" onclick="event.stopPropagation(); showPlayer('THE NEON VIRUS REMIX I', 'DRAGERON DIABLOC', 'music/THE NEON VIRUS REMIX I.mp3', 'image/57.jpeg')">THE NEON VIRUS REMIX I</div>
                    <div class="track-item" onclick="event.stopPropagation(); showPlayer('THE NEON VIRUS X', 'DRAGERON DIABLOC', 'music/THE NEON VIRUS X.mp3', 'image/58.jpeg')">THE NEON VIRUS X</div>
                </div>
            </div>
            
            <!-- Альбом Holy War -->
            <div class="playlist-card" onclick="togglePlaylist(this)">
                <img src="image/35.jpeg" alt="Holy War" class="playlist-cover">
                <div class="playlist-info">
                    <h3 class="playlist-title">Holy War</h3>
                    <p class="playlist-description">8 треков · DRAGERON DIABLOC</p>
                </div>
                <div class="track-list">
                    <div class="track-item" onclick="event.stopPropagation(); showPlayer('Holy War REMIX', 'DRAGERON DIABLOC', 'music/Holy War REMIX.mp3', 'image/35.jpeg')">Holy War REMIX</div>
                    <div class="track-item" onclick="event.stopPropagation(); showPlayer('Holy War', 'DRAGERON DIABLOC', 'music/Holy War.mp3', 'image/36.jpeg')">Holy War</div>
                    <div class="track-item" onclick="event.stopPropagation(); showPlayer('The Last Knight REMIX', 'DRAGERON DIABLOC', 'music/The Last Knight REMIX.mp3', 'image/37.jpeg')">The Last Knight REMIX</div>
                    <div class="track-item" onclick="event.stopPropagation(); showPlayer('The Last Knight', 'DRAGERON DIABLOC', 'music/The Last Knight.mp3', 'image/38.jpeg')">The Last Knight</div>
                    <div class="track-item" onclick="event.stopPropagation(); showPlayer('Лживые Надежды', 'DRAGERON DIABLOC', 'music/Лживые Надежды.mp3', 'image/39.jpeg')">Лживые Надежды</div>
                    <div class="track-item" onclick="event.stopPropagation(); showPlayer('ПЛАМЯ ВОССТАНИЯ REMIX Y', 'DRAGERON DIABLOC', 'music/ПЛАМЯ ВОССТАНИЯ REMIX Y.mp3', 'image/40.jpeg')">ПЛАМЯ ВОССТАНИЯ REMIX Y</div>
                    <div class="track-item" onclick="event.stopPropagation(); showPlayer('ПЛАМЯ ВОССТАНИЯ REMIX', 'DRAGERON DIABLOC', 'music/ПЛАМЯ ВОССТАНИЯ REMIX.mp3', 'image/41.jpeg')">ПЛАМЯ ВОССТАНИЯ REMIX</div>
                    <div class="track-item" onclick="event.stopPropagation(); showPlayer('ПЛАМЯ ВОССТАНИЯ', 'DRAGERON DIABLOC', 'music/ПЛАМЯ ВОССТАНИЯ.mp3', 'image/42.jpeg')">ПЛАМЯ ВОССТАНИЯ</div>
                </div>
            </div>
            
            <!-- Альбом ГИМН МЕЧЕЙ -->
            <div class="playlist-card" onclick="togglePlaylist(this)">
                <img src="image/61.jpeg" alt="ГИМН МЕЧЕЙ" class="playlist-cover">
                <div class="playlist-info">
                    <h3 class="playlist-title">ГИМН МЕЧЕЙ</h3>
                    <p class="playlist-description">3 трека · DRAGERON DIABLOC</p>
                </div>
                <div class="track-list">
                    <div class="track-item" onclick="event.stopPropagation(); showPlayer('ГИМН МЕЧЕЙ REMIX Z', 'DRAGERON DIABLOC', 'music/ГИМН МЕЧЕЙ REMIX Z.mp3', 'image/59.jpeg')">ГИМН МЕЧЕЙ REMIX Z</div>
                    <div class="track-item" onclick="event.stopPropagation(); showPlayer('ГИМН МЕЧЕЙ REMIX', 'DRAGERON DIABLOC', 'music/ГИМН МЕЧЕЙ REMIX.mp3', 'image/60.jpeg')">ГИМН МЕЧЕЙ REMIX</div>
                    <div class="track-item" onclick="event.stopPropagation(); showPlayer('ГИМН МЕЧЕЙ', 'DRAGERON DIABLOC', 'music/ГИМН МЕЧЕЙ.mp3', 'image/61.jpeg')">ГИМН МЕЧЕЙ</div>
                </div>
            </div>
            
            <!-- Альбом Гниющие Королевства и Павшие Империи -->
            <div class="playlist-card" onclick="togglePlaylist(this)">
                <img src="image/72.jpeg" alt="Гниющие Королевства и Павшие Империи" class="playlist-cover">
                <div class="playlist-info">
                    <h3 class="playlist-title">Гниющие Королевства и Павшие Империи</h3>
                    <p class="playlist-description">11 треков · DRAGERON DIABLOC</p>
                </div>
                <div class="track-list">
                    <div class="track-item" onclick="event.stopPropagation(); showPlayer('Гниющие Королевства и Павшие Империи REMIX I', 'DRAGERON DIABLOC', 'music/Гниющие Королевства и Павшие Империи REMIX I.mp3', 'image/62.jpeg')">Гниющие Королевства и Павшие Империи REMIX I</div>
                    <div class="track-item" onclick="event.stopPropagation(); showPlayer('Гниющие Королевства и Павшие Империи REMIX II', 'DRAGERON DIABLOC', 'music/Гниющие Королевства и Павшие Империи REMIX II.mp3', 'image/63.jpeg')">Гниющие Королевства и Павшие Империи REMIX II</div>
                    <div class="track-item" onclick="event.stopPropagation(); showPlayer('Гниющие Королевства и Павшие Империи REMIX III', 'DRAGERON DIABLOC', 'music/Гниющие Королевства и Павшие Империи REMIX III.mp3', 'image/64.jpeg')">Гниющие Королевства и Павшие Империи REMIX III</div>
                    <div class="track-item" onclick="event.stopPropagation(); showPlayer('Гниющие Королевства и Павшие Империи REMIX IV', 'DRAGERON DIABLOC', 'music/Гниющие Королевства и Павшие Империи REMIX IV.mp3', 'image/65.jpeg')">Гниющие Королевства и Павшие Империи REMIX IV</div>
                    <div class="track-item" onclick="event.stopPropagation(); showPlayer('Гниющие Королевства и Павшие Империи REMIX V', 'DRAGERON DIABLOC', 'music/Гниющие Королевства и Павшие Империи REMIX V.mp3', 'image/66.jpeg')">Гниющие Королевства и Павшие Империи REMIX V</div>
                    <div class="track-item" onclick="event.stopPropagation(); showPlayer('Гниющие Королевства и Павшие Империи REMIX VI', 'DRAGERON DIABLOC', 'music/Гниющие Королевства и Павшие Империи REMIX VI.mp3', 'image/67.jpeg')">Гниющие Королевства и Павшие Империи REMIX VI</div>
                    <div class="track-item" onclick="event.stopPropagation(); showPlayer('Гниющие Королевства и Павшие Империи REMIX VII', 'DRAGERON DIABLOC', 'music/Гниющие Королевства и Павшие Империи REMIX VII.mp3', 'image/68.jpeg')">Гниющие Королевства и Павшие Империи REMIX VII</div>
                    <div class="track-item" onclick="event.stopPropagation(); showPlayer('Гниющие Королевства и Павшие Империи REMIX VIII', 'DRAGERON DIABLOC', 'music/Гниющие Королевства и Павшие Империи REMIX VIII.mp3', 'image/69.jpeg')">Гниющие Королевства и Павшие Империи REMIX VIII</div>
                    <div class="track-item" onclick="event.stopPropagation(); showPlayer('Гниющие Королевства и Павшие Империи REMIX IX', 'DRAGERON DIABLOC', 'music/Гниющие Королевства и Павшие Империи REMIX IX.mp3', 'image/70.jpeg')">Гниющие Королевства и Павшие Империи REMIX IX</div>
                    <div class="track-item" onclick="event.stopPropagation(); showPlayer('Гниющие Королевства и Павшие Империи REMIX X', 'DRAGERON DIABLOC', 'music/Гниющие Королевства и Павшие Империи REMIX X.mp3', 'image/71.jpeg')">Гниющие Королевства и Павшие Империи REMIX X</div>
                    <div class="track-item" onclick="event.stopPropagation(); showPlayer('Гниющие Королевства и Павшие Империи', 'DRAGERON DIABLOC', 'music/Гниющие Королевства и Павшие Империи.mp3', 'image/72.jpeg')">Гниющие Королевства и Павшие Империи</div>
                </div>
            </div>
            
            <!-- Альбом ИМПЕРИЯ ДРАГЕОН -->
            <div class="playlist-card" onclick="togglePlaylist(this)">
                <img src="image/79.jpeg" alt="ИМПЕРИЯ ДРАГЕОН" class="playlist-cover">
                <div class="playlist-info">
                    <h3 class="playlist-title">ИМПЕРИЯ ДРАГЕОН</h3>
                    <p class="playlist-description">7 треков · DRAGERON DIABLOC</p>
                </div>
                <div class="track-list">
                    <div class="track-item" onclick="event.stopPropagation(); showPlayer('ИМПЕРИЯ ДРАГЕОН REMIX I', 'DRAGERON DIABLOC', 'music/ИМПЕРИЯ ДРАГЕОН REMIX I.mp3', 'image/73.jpeg')">ИМПЕРИЯ ДРАГЕОН REMIX I</div>
                    <div class="track-item" onclick="event.stopPropagation(); showPlayer('ИМПЕРИЯ ДРАГЕОН REMIX II', 'DRAGERON DIABLOC', 'music/ИМПЕРИЯ ДРАГЕОН REMIX II.mp3', 'image/74.jpeg')">ИМПЕРИЯ ДРАГЕОН REMIX II</div>
                    <div class="track-item" onclick="event.stopPropagation(); showPlayer('ИМПЕРИЯ ДРАГЕОН REMIX III', 'DRAGERON DIABLOC', 'music/ИМПЕРИЯ ДРАГЕОН REMIX III.mp3', 'image/75.jpeg')">ИМПЕРИЯ ДРАГЕОН REMIX III</div>
                    <div class="track-item" onclick="event.stopPropagation(); showPlayer('ИМПЕРИЯ ДРАГЕОН REMIX IV', 'DRAGERON DIABLOC', 'music/ИМПЕРИЯ ДРАГЕОН REMIX IV.mp3', 'image/76.jpeg')">ИМПЕРИЯ ДРАГЕОН REMIX IV</div>
                    <div class="track-item" onclick="event.stopPropagation(); showPlayer('ИМПЕРИЯ ДРАГЕОН REMIX V', 'DRAGERON DIABLOC', 'music/ИМПЕРИЯ ДРАГЕОН REMIX V.mp3', 'image/77.jpeg')">ИМПЕРИЯ ДРАГЕОН REMIX V</div>
                    <div class="track-item" onclick="event.stopPropagation(); showPlayer('ИМПЕРИЯ ДРАГЕОН REMIX VI', 'DRAGERON DIABLOC', 'music/ИМПЕРИЯ ДРАГЕОН REMIX VI.mp3', 'image/78.jpeg')">ИМПЕРИЯ ДРАГЕОН REMIX VI</div>
                    <div class="track-item" onclick="event.stopPropagation(); showPlayer('ИМПЕРИЯ ДРАГЕОН', 'DRAGERON DIABLOC', 'music/ИМПЕРИЯ ДРАГЕОН.mp3', 'image/79.jpeg')">ИМПЕРИЯ ДРАГЕОН</div>
                </div>
            </div>
            
            <!-- Альбом Лунный лес -->
            <div class="playlist-card" onclick="togglePlaylist(this)">
                <img src="image/81.jpeg" alt="Лунный лес" class="playlist-cover">
                <div class="playlist-info">
                    <h3 class="playlist-title">Лунный лес</h3>
                    <p class="playlist-description">2 трека · DRAGERON DIABLOC</p>
                </div>
                <div class="track-list">
                    <div class="track-item" onclick="event.stopPropagation(); showPlayer('Лунный лес REMIX', 'DRAGERON DIABLOC', 'music/Лунный лес REMIX.mp3', 'image/80.jpeg')">Лунный лес REMIX</div>
                    <div class="track-item" onclick="event.stopPropagation(); showPlayer('Лунный лес', 'DRAGERON DIABLOC', 'music/Лунный лес.mp3', 'image/81.jpeg')">Лунный лес</div>
                </div>
            </div>
            
            <!-- Альбом ОРДЕН ВОРОНА -->
            <div class="playlist-card" onclick="togglePlaylist(this)">
                <img src="image/92.jpeg" alt="ОРДЕН ВОРОНА" class="playlist-cover">
                <div class="playlist-info">
                    <h3 class="playlist-title">ОРДЕН ВОРОНА</h3>
                    <p class="playlist-description">11 треков · DRAGERON DIABLOC</p>
                </div>
                <div class="track-list">
                    <div class="track-item" onclick="event.stopPropagation(); showPlayer('ОРДЕН ВОРОНА REMIX I', 'DRAGERON DIABLOC', 'music/ОРДЕН ВОРОНА REMIX I.mp3', 'image/82.jpeg')">ОРДЕН ВОРОНА REMIX I</div>
                    <div class="track-item" onclick="event.stopPropagation(); showPlayer('ОРДЕН ВОРОНА REMIX II', 'DRAGERON DIABLOC', 'music/ОРДЕН ВОРОНА REMIX II.mp3', 'image/83.jpeg')">ОРДЕН ВОРОНА REMIX II</div>
                    <div class="track-item" onclick="event.stopPropagation(); showPlayer('ОРДЕН ВОРОНА REMIX III', 'DRAGERON DIABLOC', 'music/ОРДЕН ВОРОНА REMIX III.mp3', 'image/84.jpeg')">ОРДЕН ВОРОНА REMIX III</div>
                    <div class="track-item" onclick="event.stopPropagation(); showPlayer('ОРДЕН ВОРОНА REMIX IV', 'DRAGERON DIABLOC', 'music/ОРДЕН ВОРОНА REMIX IV.mp3', 'image/85.jpeg')">ОРДЕН ВОРОНА REMIX IV</div>
                    <div class="track-item" onclick="event.stopPropagation(); showPlayer('ОРДЕН ВОРОНА REMIX V', 'DRAGERON DIABLOC', 'music/ОРДЕН ВОРОНА REMIX V.mp3', 'image/86.jpeg')">ОРДЕН ВОРОНА REMIX V</div>
                    <div class="track-item" onclick="event.stopPropagation(); showPlayer('ОРДЕН ВОРОНА REMIX VI', 'DRAGERON DIABLOC', 'music/ОРДЕН ВОРОНА REMIX VI.mp3', 'image/87.jpeg')">ОРДЕН ВОРОНА REMIX VI</div>
                    <div class="track-item" onclick="event.stopPropagation(); showPlayer('ОРДЕН ВОРОНА REMIX VII', 'DRAGERON DIABLOC', 'music/ОРДЕН ВОРОНА REMIX VII.mp3', 'image/88.jpeg')">ОРДЕН ВОРОНА REMIX VII</div>
                    <div class="track-item" onclick="event.stopPropagation(); showPlayer('ОРДЕН ВОРОНА REMIX VIII', 'DRAGERON DIABLOC', 'music/ОРДЕН ВОРОНА REMIX VIII.mp3', 'image/89.jpeg')">ОРДЕН ВОРОНА REMIX VIII</div>
                    <div class="track-item" onclick="event.stopPropagation(); showPlayer('ОРДЕН ВОРОНА REMIX IX', 'DRAGERON DIABLOC', 'music/ОРДЕН ВОРОНА REMIX IX.mp3', 'image/90.jpeg')">ОРДЕН ВОРОНА REMIX IX</div>
                    <div class="track-item" onclick="event.stopPropagation(); showPlayer('ОРДЕН ВОРОНА REMIX X', 'DRAGERON DIABLOC', 'music/ОРДЕН ВОРОНА REMIX X.mp3', 'image/91.jpeg')">ОРДЕН ВОРОНА REMIX X</div>
                    <div class="track-item" onclick="event.stopPropagation(); showPlayer('ОРДЕН ВОРОНА', 'DRAGERON DIABLOC', 'music/ОРДЕН ВОРОНА.mp3', 'image/92.jpeg')">ОРДЕН ВОРОНА</div>
                </div>
            </div>
            
            <!-- Альбом ПЛОТОЯДНАЯ ТВАРЬ -->
            <div class="playlist-card" onclick="togglePlaylist(this)">
                <img src="image/93.jpeg" alt="ПЛОТОЯДНАЯ ТВАРЬ" class="playlist-cover">
                <div class="playlist-info">
                    <h3 class="playlist-title">ПЛОТОЯДНАЯ ТВАРЬ</h3>
                    <p class="playlist-description">8 треков · DRAGERON DIABLOC</p>
                </div>
                <div class="track-list">
                    <div class="track-item" onclick="event.stopPropagation(); showPlayer('ПЛОТОЯДНАЯ ТВАРЬ REMIX I', 'DRAGERON DIABLOC', 'music/ПЛОТОЯДНАЯ ТВАРЬ REMIX I.mp3', 'image/93.jpeg')">ПЛОТОЯДНАЯ ТВАРЬ REMIX I</div>
                    <div class="track-item" onclick="event.stopPropagation(); showPlayer('ПЛОТОЯДНАЯ ТВАРЬ REMIX II', 'DRAGERON DIABLOC', 'music/ПЛОТОЯДНАЯ ТВАРЬ REMIX II.mp3', 'image/93.jpeg')">ПЛОТОЯДНАЯ ТВАРЬ REMIX II</div>
                    <div class="track-item" onclick="event.stopPropagation(); showPlayer('ПЛОТОЯДНАЯ ТВАРЬ REMIX III', 'DRAGERON DIABLOC', 'music/ПЛОТОЯДНАЯ ТВАРЬ REMIX III.mp3', 'image/93.jpeg')">ПЛОТОЯДНАЯ ТВАРЬ REMIX III</div>
                    <div class="track-item" onclick="event.stopPropagation(); showPlayer('ПЛОТОЯДНАЯ ТВАРЬ REMIX IV', 'DRAGERON DIABLOC', 'music/ПЛОТОЯДНАЯ ТВАРЬ REMIX IV.mp3', 'image/93.jpeg')">ПЛОТОЯДНАЯ ТВАРЬ REMIX IV</div>
                    <div class="track-item" onclick="event.stopPropagation(); showPlayer('ПЛОТОЯДНАЯ ТВАРЬ REMIX V', 'DRAGERON DIABLOC', 'music/ПЛОТОЯДНАЯ ТВАРЬ REMIX V.mp3', 'image/93.jpeg')">ПЛОТОЯДНАЯ ТВАРЬ REMIX V</div>
                    <div class="track-item" onclick="event.stopPropagation(); showPlayer('ПЛОТОЯДНАЯ ТВАРЬ REMIX VI', 'DRAGERON DIABLOC', 'music/ПЛОТОЯДНАЯ ТВАРЬ REMIX VI.mp3', 'image/93.jpeg')">ПЛОТОЯДНАЯ ТВАРЬ REMIX VI</div>
                    <div class="track-item" onclick="event.stopPropagation(); showPlayer('ПЛОТОЯДНАЯ ТВАРЬ REMIX VII', 'DRAGERON DIABLOC', 'music/ПЛОТОЯДНАЯ ТВАРЬ REMIX VII.mp3', 'image/93.jpeg')">ПЛОТОЯДНАЯ ТВАРЬ REMIX VII</div>
                    <div class="track-item" onclick="event.stopPropagation(); showPlayer('ПЛОТОЯДНАЯ ТВАРЬ', 'DRAGERON DIABLOC', 'music/ПЛОТОЯДНАЯ ТВАРЬ.mp3', 'image/93.jpeg')">ПЛОТОЯДНАЯ ТВАРЬ</div>
                </div>
            </div>
            
            <!-- Альбом UNNAMED -->
            <div class="playlist-card" onclick="togglePlaylist(this)">
                <img src="image/unnamed.jpg" alt="UNNAMED" class="playlist-cover">
                <div class="playlist-info">
                    <h3 class="playlist-title">UNNAMED</h3>
                    <p class="playlist-description">0 треков · DRAGERON DIABLOC</p>
                </div>
                <div class="track-list">
                    <!-- Треки будут добавлены позже -->
                </div>
            </div>
        </div>
    </section>

    </section>

    <!-- Визуализатор аудио -->
    <canvas id="visualizer"></canvas>

    <!-- Аудиоплеер -->
    <div class="player-container" id="player">
        <div class="player-content">
            <img src="https://via.placeholder.com/300" alt="Обложка трека" class="player-cover" id="player-cover">
            <div class="player-info">
                <div class="player-title" id="player-title">Название трека</div>
                <div class="player-artist" id="player-artist">Исполнитель</div>
                <div class="player-controls">
                    <audio controls id="audio-player">
                        <source src="" type="audio/mpeg">
                        Ваш браузер не поддерживает аудио элемент.
                    </audio>
                    <button class="repeat-btn" id="repeatBtn" title="Повтор">🔁</button>
                    <button id="fullscreenBtn" title="Полноэкранный режим" style="background: none; border: none; color: #b3b3b3; cursor: pointer; font-size: 1rem;">⛶</button>
                </div>
            </div>
            <div style="display: flex; align-items: center;">
                <a href="https://soundcloud.com/drageron-diabloc" target="_blank" style="color: white; margin-right: 20px; text-decoration: none;">🌐 SoundCloud</a>
                <button class="close-player" onclick="hidePlayer()">✕</button>
            </div>
        </div>
    </div>

    <script>
        // Показать плеер с выбранным треком
        function showPlayer(title, artist, audioSrc, coverSrc) {
            document.getElementById('player-title').textContent = title;
            document.getElementById('player-artist').textContent = artist;
            
            // Устанавливаем обложку из параметра
            document.getElementById('player-cover').src = coverSrc;
            
            const audioPlayer = document.getElementById('audio-player');
            audioPlayer.src = audioSrc;
            audioPlayer.load();
            
            document.getElementById('player').style.display = 'block';
            
            // Автовоспроизведение при открытии плеера
            audioPlayer.play().catch(e => console.log("Автовоспроизведение не разрешено:", e));
            
            // Инициализация визуализатора
            initVisualizer();
        }
        
        // Скрыть плеер
        function hidePlayer() {
            const player = document.getElementById('player');
            player.classList.remove('fullscreen');
            player.style.display = 'none';
            document.getElementById('fullscreenBtn').textContent = '⛶';
            const audioPlayer = document.getElementById('audio-player');
            audioPlayer.pause();
            document.getElementById('visualizer').style.display = 'none';
        }
        
        // Полноэкранный режим
        document.getElementById('fullscreenBtn').addEventListener('click', function() {
            const player = document.getElementById('player');
            player.classList.toggle('fullscreen');
            
            // Обновляем иконку
            this.textContent = player.classList.contains('fullscreen') ? '✕' : '⛶';
            
            // Показываем визуализатор в полноэкранном режиме
            document.getElementById('visualizer').style.display = 
                player.classList.contains('fullscreen') ? 'block' : 'none';
        });
        
        // Инициализация визуализатора аудио
        function initVisualizer() {
            const canvas = document.getElementById('visualizer');
            const ctx = canvas.getContext('2d');
            const audio = document.getElementById('audio-player');
            
            // Устанавливаем размеры canvas
            canvas.width = window.innerWidth;
            canvas.height = window.innerHeight;
            
            const audioCtx = new (window.AudioContext || window.webkitAudioContext)();
            const analyser = audioCtx.createAnalyser();
            const source = audioCtx.createMediaElementSource(audio);
            
            source.connect(analyser);
            analyser.connect(audioCtx.destination);
            
            analyser.fftSize = 256;
            const bufferLength = analyser.frequencyBinCount;
            const dataArray = new Uint8Array(bufferLength);
            
            function draw() {
                requestAnimationFrame(draw);
                
                analyser.getByteFrequencyData(dataArray);
                
                ctx.fillStyle = 'rgba(0, 0, 0, 0.2)';
                ctx.fillRect(0, 0, canvas.width, canvas.height);
                
                const barWidth = (canvas.width / bufferLength) * 2.5;
                let x = 0;
                
                for(let i = 0; i < bufferLength; i++) {
                    const barHeight = dataArray[i] / 2;
                    
                    ctx.fillStyle = `rgb(${barHeight + 100}, 50, 50)`;
                    ctx.fillRect(x, canvas.height - barHeight, barWidth, barHeight);
                    
                    x += barWidth + 1;
                }
            }
            
            draw();
            
            // Обработка изменения размера окна
            window.addEventListener('resize', function() {
                canvas.width = window.innerWidth;
                canvas.height = window.innerHeight;
            });
        }
        
        // Прокрутка к плейлистам при нажатии на кнопку
        document.querySelector('.btn').addEventListener('click', function(e) {
            e.preventDefault();
            document.querySelector(this.getAttribute('href')).scrollIntoView({
                behavior: 'smooth'
            });
        });
        
        // Переключение темы
        const themeSwitcher = document.getElementById('themeSwitcher');
        themeSwitcher.addEventListener('click', function() {
            document.body.classList.toggle('light-theme');
            
            // Сохраняем выбор темы в localStorage
            const isLight = document.body.classList.contains('light-theme');
            localStorage.setItem('lightTheme', isLight);
        });
        
        // Проверяем сохранённую тему при загрузке
        window.addEventListener('DOMContentLoaded', () => {
            const savedTheme = localStorage.getItem('lightTheme');
            if (savedTheme === 'true') {
                document.body.classList.add('light-theme');
            }
        });

        // Функция для переключения отображения списка треков
        function togglePlaylist(element) {
            const trackList = element.querySelector('.track-list');
            if (trackList) {
                trackList.style.display = trackList.style.display === 'none' ? 'block' : 'none';
            }
        }

        // Поиск треков
        const searchInput = document.getElementById('searchInput');
        searchInput.addEventListener('input', function() {
            const searchTerm = this.value.toLowerCase();
            const playlistCards = document.querySelectorAll('.playlist-card');
            
            playlistCards.forEach(card => {
                const playlistTitle = card.querySelector('.playlist-title').textContent.toLowerCase();
                const trackItems = card.querySelectorAll('.track-item');
                let hasMatches = false;
                
                // Сначала проверяем название альбома
                if (playlistTitle.includes(searchTerm)) {
                    hasMatches = true;
                } else {
                    // Затем проверяем треки
                    trackItems.forEach(item => {
                        const trackName = item.textContent.toLowerCase();
                        if (trackName.includes(searchTerm)) {
                            hasMatches = true;
                            // Показываем трек, даже если он был скрыт
                            item.style.display = 'block';
                        } else {
                            // Скрываем треки, которые не соответствуют поиску
                            item.style.display = 'none';
                        }
                    });
                }
                
                // Показываем/скрываем альбом в зависимости от наличия совпадений
                card.style.display = hasMatches ? 'block' : 'none';
            });
        });

        // Управление повторением трека
        const repeatBtn = document.getElementById('repeatBtn');
        const audioPlayer = document.getElementById('audio-player');
        let repeatMode = 0; // 0 - нет повтора, 1 - повтор трека, 2 - повтор плейлиста
        
        repeatBtn.addEventListener('click', function() {
            repeatMode = (repeatMode + 1) % 2; // Переключаем между 0 и 1
            this.classList.toggle('active', repeatMode === 1);
            audioPlayer.loop = repeatMode === 1;
        });

        // Обработка окончания трека
        audioPlayer.addEventListener('ended', function() {
            if (repeatMode === 1) {
                // Если включен повтор трека, просто воспроизводим его снова
                this.currentTime = 0;
                this.play();
            }
        });
    </script>
</body>
</html>
